<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Tienda de Accesorios de Computadora</title>

  <!-- LibrerÃ­a para generar PDF -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      background: url('https://images.unsplash.com/photo-1603481588273-2f908a9a7a1b') no-repeat center center fixed;
      background-size: cover;
    }

    header {
      background-color: rgba(31, 41, 55, 0.9);
      color: white;
      padding: 20px;
      text-align: center;
    }

    .contenedor {
      display: grid;
      grid-template-columns: 3fr 1fr;
      gap: 20px;
      padding: 20px;
      background-color: rgba(255,255,255,0.9);
    }

    .productos {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: 20px;
    }

    .producto {
      background: white;
      border-radius: 10px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
      padding: 15px;
      text-align: center;
    }

    .producto img {
      width: 100%;
      height: 160px;
      object-fit: cover;
      border-radius: 8px;
    }

    .precio {
      font-size: 18px;
      color: #16a34a;
      font-weight: bold;
      margin: 10px 0;
    }

    button {
      background-color: #2563eb;
      color: white;
      border: none;
      padding: 8px 12px;
      border-radius: 5px;
      cursor: pointer;
      margin: 3px 0;
    }

    button:hover {
      background-color: #1d4ed8;
    }

    .btn-eliminar { background-color: #dc2626; }
    .btn-pago { background-color: #16a34a; width: 100%; }

    .carrito {
      background: white;
      border-radius: 10px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
      padding: 15px;
      height: fit-content;
    }

    .item-carrito {
      border-bottom: 1px solid #ddd;
      padding: 8px 0;
      font-size: 14px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 5px;
    }

    footer {
      text-align: center;
      padding: 15px;
      background-color: rgba(31, 41, 55, 0.9);
      color: white;
      margin-top: 20px;
    }
  </style>
</head>
<body>

<header>
  <h1>Tienda de Accesorios de Computadora</h1>
  <p>Los mejores accesorios al mejor precio</p>
</header>

<div class="contenedor">

<section class="productos">

  <div class="producto">
    <img src="https://m.media-amazon.com/images/I/61pDShoLXqL._AC_SL1000_.jpg">
    <h3>Mouse Gaming RGB</h3>
    <p class="precio">Q120.00</p>
    <button onclick="agregarAlCarrito('Mouse Gaming RGB', 120)">Agregar</button>
  </div>

  <div class="producto">
    <img src="https://images.unsplash.com/photo-1618384887929-16ec33fab9ef">
    <h3>Teclado MecÃ¡nico</h3>
    <p class="precio">Q350.00</p>
    <button onclick="agregarAlCarrito('Teclado MecÃ¡nico', 350)">Agregar</button>
  </div>

  <div class="producto">
    <img src="https://images.unsplash.com/photo-1583394838336-acd977736f90">
    <h3>AudÃ­fonos Gamer</h3>
    <p class="precio">Q220.00</p>
    <button onclick="agregarAlCarrito('AudÃ­fonos Gamer', 220)">Agregar</button>
  </div>

  <div class="producto">
    <img src="https://www.laboratoriosjulio.mx/cdn/shop/files/ventiapp-image--eb562eeb-ab84-45de-9be8-a075bfce4a33_3_4_2023_11_38_40_422.jpg?v=1696621273">
    <h3>Memoria USB 64GB</h3>
    <p class="precio">Q80.00</p>
    <button onclick="agregarAlCarrito('Memoria USB 64GB', 80)">Agregar</button>
  </div>

</section>

<aside class="carrito">
  <h2>ðŸ›’ Carrito</h2>
  <div id="lista-carrito"></div>
  <p><strong>Total: Q<span id="total">0.00</span></strong></p>
  <button onclick="vaciarCarrito()">Vaciar carrito</button>
  <button onclick="enviarWhatsApp()">Enviar pedido por WhatsApp</button>
  <button onclick="generarPDF()">Descargar factura PDF</button>
  <button class="btn-pago" onclick="simularPago()">Pagar</button>
</aside>

</div>

<footer>
  <p>&copy; 2026 Tienda de Accesorios</p>
</footer>

<script>
let carrito = [];

function agregarAlCarrito(nombre, precio) {
  carrito.push({ nombre, precio });
  actualizarCarrito();
}

function eliminarProducto(index) {
  carrito.splice(index, 1);
  actualizarCarrito();
}

function actualizarCarrito() {
  const lista = document.getElementById('lista-carrito');
  const totalElemento = document.getElementById('total');
  lista.innerHTML = '';
  let total = 0;

  carrito.forEach((item, index) => {
    const div = document.createElement('div');
    div.className = 'item-carrito';

    const texto = document.createElement('span');
    texto.textContent = `${item.nombre} - Q${item.precio.toFixed(2)}`;

    const btnEliminar = document.createElement('button');
    btnEliminar.textContent = 'X';
    btnEliminar.className = 'btn-eliminar';
    btnEliminar.onclick = () => eliminarProducto(index);

    div.appendChild(texto);
    div.appendChild(btnEliminar);
    lista.appendChild(div);

    total += item.precio;
  });

  totalElemento.textContent = total.toFixed(2);
}

function vaciarCarrito() {
  carrito = [];
  actualizarCarrito();
}

function enviarWhatsApp() {
  if (carrito.length === 0) return alert('El carrito estÃ¡ vacÃ­o');

  let mensaje = 'Hola, quiero hacer este pedido:%0A';
  let total = 0;

  carrito.forEach(item => {
    mensaje += `- ${item.nombre} Q${item.precio.toFixed(2)}%0A`;
    total += item.precio;
  });

  mensaje += `%0ATotal: Q${total.toFixed(2)}`;

  const telefono = '50200000000';
  window.open(`https://wa.me/${telefono}?text=${mensaje}`, '_blank');
}

function generarPDF() {
  if (carrito.length === 0) return alert('No hay productos para facturar');

  const { jsPDF } = window.jspdf;
  const doc = new jsPDF();

  let y = 20;
  let total = 0;

  doc.setFontSize(18);
  doc.text('Factura de Compra', 20, y);
  y += 10;

  doc.setFontSize(12);
  doc.text('Fecha: ' + new Date().toLocaleString(), 20, y);
  y += 10;

  carrito.forEach(item => {
    doc.text(`${item.nombre} - Q${item.precio.toFixed(2)}`, 20, y);
    y += 8;
    total += item.precio;
  });

  y += 5;
  doc.text(`Total: Q${total.toFixed(2)}`, 20, y);

  doc.save('factura.pdf');
}

function simularPago() {
  if (carrito.length === 0) return alert('Agrega productos primero');
  alert('Su compra se ha realizado correctamente');
  vaciarCarrito();
}
</script>

</body>
</html>
